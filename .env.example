# NILOR_LOG_LEVEL=INFO    # possible log levels: INFO, DEBUG, WARNING, ERROR, CRITICAL

# --- Feature flags ---
#NILOR_SQS_ENABLED=true

# --- Comfy API client ---
#NILOR_COMFYUI_API_URL=http://127.0.0.1:8188
#NILOR_COMFYUI_WS_URL=ws://127.0.0.1:8188
#NILOR_COMFY_API_TIMEOUT_SECONDS=30

## HTTP idempotent retry policy (GET /system_stats, POST /free only)
#NILOR_COMFY_RETRY_BASE_SECONDS=0.25
#NILOR_COMFY_RETRY_MULTIPLIER=2.0
#NILOR_COMFY_RETRY_JITTER_SECONDS=0.25
#NILOR_COMFY_RETRY_MAX_SLEEP_SECONDS=4.0
#NILOR_COMFY_RETRY_MAX_ATTEMPTS=3

## WebSocket reconnect policy
#NILOR_COMFY_WS_MAX_RECONNECT_ATTEMPTS=5
#NILOR_COMFY_WS_MAX_TOTAL_BACKOFF_SECONDS=30.0

# --- Worker / Queue settings ---
NILOR_SQS_ENDPOINT_URL=http://127.0.0.1:9324
#NILOR_SQS_JOBS_TO_PROCESS_QUEUE_NAME=jobs_to_process-comfyui
#NILOR_SQS_JOB_STATUS_UPDATES_QUEUE_NAME=job_status_updates
#NILOR_SQS_POLL_WAIT_TIME=10
#NILOR_SQS_MAX_MESSAGES=1

## Non-secret local defaults; provide real values locally
#NILOR_AWS_ACCESS_KEY_ID=minioadmin
NILOR_AWS_SECRET_ACCESS_KEY=...
#NILOR_AWS_DEFAULT_REGION=us-east-1

## If empty or unset, a stable id will be generated by the loader
#NILOR_WORKER_CLIENT_ID=

# --- Memory Hygiene (Guardian) ---
## Enable/disable hygiene between jobs
# NILOR_MEMORY_HYGIENE_ENABLED=true

## How often to check when idle (seconds)
# NILOR_MEMORY_HYGIENE_IDLE_POLL_SECONDS=5

## Thresholds (either percent usage or absolute free MB can trigger)
# NILOR_MEMORY_HYGIENE_VRAM_USAGE_PCT_MAX=88
# NILOR_MEMORY_HYGIENE_RAM_USAGE_PCT_MAX=90
# NILOR_MEMORY_HYGIENE_VRAM_MIN_FREE_MB=2048
# NILOR_MEMORY_HYGIENE_RAM_MIN_FREE_MB=4096

## Action policy: free|unload|both|auto (auto: free first, escalate to unload once if needed)
# NILOR_MEMORY_HYGIENE_ACTION_POLICY=auto

## Retry/backoff/cycle caps
# NILOR_MEMORY_HYGIENE_MAX_RETRIES=2
# NILOR_MEMORY_HYGIENE_COOLDOWN_SECONDS=60
# NILOR_MEMORY_HYGIENE_SLEEP_BETWEEN_ATTEMPTS_SECONDS=4
# NILOR_MEMORY_HYGIENE_MAX_CYCLE_DURATION_SECONDS=15
